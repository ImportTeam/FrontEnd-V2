# ğŸ’° PicSel API â€“ ê²°ì œ ë‚´ì—­ (Payments)

**Base URL**

```
https://api.picsel.kr/api
```

---

## ğŸ”‘ ì¸ì¦ ì •ì±… (ì¤‘ìš”)

### â— ì´ APIëŠ” **ì¸ì¦ í•„ìš” ì—†ìŒ**

```text
POST /api/payments
```

**ì´ìœ **

* ì´ ì—”ë“œí¬ì¸íŠ¸ëŠ” **â€œì‚¬ìš©ì UIì—ì„œ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” APIê°€ ì•„ë‹˜â€**
* ì¹´ë“œ ê²°ì œ ì™„ë£Œ ì½œë°± / ì™¸ë¶€ ì‹œìŠ¤í…œ / ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸ ìš©ë„
* ëŒ€ì‹  `userUuid`ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë°›ìŒ

ğŸ‘‰ ì¦‰,
**FE í™”ë©´ì—ì„œ ë²„íŠ¼ ëˆŒëŸ¬ í˜¸ì¶œí•˜ëŠ” API âŒ**
**ë°±ì—”ë“œ or ê²°ì œ ì´ë²¤íŠ¸ ìˆ˜ì§‘ ë ˆì´ì–´ìš© API â­•**

---

## 1ï¸âƒ£ POST `/payments`

### ê²°ì œ ë‚´ì—­ ê¸°ë¡

ê²°ì œ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ **ê²°ì œ ê¸ˆì•¡ + ì ìš© í˜œíƒ ì •ë³´**ë¥¼ ì €ì¥

---

### ğŸ“¥ Request Body

```json
{
  "userUuid": "550e8400-e29b-41d4-a716-446655440000",
  "merchant": "GSí¸ì˜ì ",
  "amount": "50000",
  "paymentMethodSeq": 1
}
```

| í•„ë“œ               | íƒ€ì…     | í•„ìˆ˜ | ì„¤ëª…          |
| ---------------- | ------ | -- | ----------- |
| userUuid         | string | âœ…  | ì‚¬ìš©ì UUID    |
| merchant         | string | âœ…  | ê°€ë§¹ì ëª…        |
| amount           | string | âœ…  | ê²°ì œ ê¸ˆì•¡ (ë¬¸ìì—´) |
| paymentMethodSeq | number | âœ…  | ê²°ì œìˆ˜ë‹¨ seq    |

---

### ğŸ“¤ Response 201 (ì„±ê³µ)

```json
{
  "message": "ê²°ì œ ê¸°ë¡ ì„±ê³µ",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440002",
    "merchantName": "GSí¸ì˜ì ",
    "amount": "50000",
    "currency": "KRW",
    "status": "COMPLETED",
    "benefitValue": "1000",
    "benefitDesc": "2% í• ì¸",
    "createdAt": "2025-11-12T13:59:44.000Z"
  }
}
```

---

### ğŸ“˜ Response Data í•„ë“œ ì„¤ëª…

| í•„ë“œ           | ì„¤ëª…                  |
| ------------ | ------------------- |
| id           | ê²°ì œ ë‚´ì—­ ID            |
| merchantName | ê°€ë§¹ì ëª…                |
| amount       | ê²°ì œ ê¸ˆì•¡               |
| currency     | í†µí™”                  |
| status       | ê²°ì œ ìƒíƒœ (`COMPLETED`) |
| benefitValue | ì ìš© í˜œíƒ ê¸ˆì•¡            |
| benefitDesc  | í˜œíƒ ì„¤ëª…               |
| createdAt    | ê²°ì œ ì‹œê°               |

---

### âŒ Response 400 (ìœ íš¨í•˜ì§€ ì•Šì€ ìš”ì²­)

```json
{
  "statusCode": 400,
  "error": {
    "code": "INVALID_REQUEST",
    "message": "ìš”ì²­ ê°’ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤"
  }
}
```

---

### âŒ Response 404 (ì‚¬ìš©ì ë˜ëŠ” ê²°ì œìˆ˜ë‹¨ ì—†ìŒ)

```json
{
  "statusCode": 404,
  "error": {
    "code": "NOT_FOUND",
    "message": "ì‚¬ìš©ì ë˜ëŠ” ê²°ì œìˆ˜ë‹¨ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
  }
}
```

---

## ğŸ§  FE ì‹¤ë¬´ ê´€ì  ì •ë¦¬ (ì¤‘ìš”)

### â— ì´ APIë¥¼ FEì—ì„œ ì§ì ‘ ì“°ë©´ ì•ˆ ë˜ëŠ” ì´ìœ 

| ì´ìœ           | ì„¤ëª…               |
| ----------- | ---------------- |
| ì¸ì¦ ì—†ìŒ       | ì•…ì˜ì  í˜¸ì¶œ ê°€ëŠ¥        |
| userUuid ë…¸ì¶œ | í´ë¼ì´ì–¸íŠ¸ì— ìˆìœ¼ë©´ ë³´ì•ˆ ìœ„í—˜ |
| ì´ë²¤íŠ¸ ì„±ê²©      | ê²°ì œ ì™„ë£Œ â€œì‚¬ì‹¤â€ ê¸°ë¡ìš©   |

ğŸ‘‰ **FEëŠ” ì´ APIë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ” ê²Œ ì •ìƒ**

---

## âœ… ì •ìƒì ì¸ íë¦„ (ê¶Œì¥ ì•„í‚¤í…ì²˜)

```text
[ì¹´ë“œ ê²°ì œ ë°œìƒ]
      â†“
[ê²°ì œì‚¬ / ì„œë²„ ì´ë²¤íŠ¸]
      â†“
POST /api/payments
      â†“
[DB ì €ì¥ + í˜œíƒ ê³„ì‚°]
      â†“
[ëŒ€ì‹œë³´ë“œ / í†µê³„ APIì—ì„œ ì¡°íšŒ]
```

---

## ğŸ“Œ FEì—ì„œ ê²°ì œ ë‚´ì—­ì„ â€œë³´ëŠ”â€ ë°©ë²•

FEëŠ” ì•„ë˜ APIë“¤ë§Œ ì‚¬ìš©í•´ì•¼ í•¨ ğŸ‘‡

| ëª©ì        | API                               |
| -------- | --------------------------------- |
| ìµœê·¼ ê²°ì œ ë‚´ì—­ | GET /dashboard/transactions       |
| ì›”ë³„ ì†Œë¹„    | GET /analytics/charts/monthly     |
| ê°€ë§¹ì ë³„ ì†Œë¹„  | GET /analytics/charts/category    |
| ì¹´ë“œë³„ ì‚¬ìš©   | GET /payment-methods/{id}/details |

ğŸ‘‰ **ê²°ì œ ë‚´ì—­ì€ â€œì¡°íšŒ APIâ€ë¡œë§Œ ì ‘ê·¼**

---

## âŒ FEì—ì„œ ì˜ëª»ëœ ì‚¬ìš© ì˜ˆ (í•˜ì§€ ë§ˆë¼)

```ts
// âŒ ì ˆëŒ€ ì´ë ‡ê²Œ í•˜ì§€ ë§ˆë¼
await axios.post('/payments', {
  userUuid,
  merchant,
  amount,
  paymentMethodSeq,
});
```

---

## ğŸ§© ë§Œì•½ FE í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•˜ë‹¤ë©´?

### ì„ì‹œ í…ŒìŠ¤íŠ¸ìš© ì‹œë‚˜ë¦¬ì˜¤ (DEV ONLY)

* Postman / curl
* ë°±ì—”ë“œ mock
* dev-only flag

```bash
curl -X POST https://api.picsel.kr/api/payments \
  -H "Content-Type: application/json" \
  -d '{
    "userUuid": "...",
    "merchant": "í…ŒìŠ¤íŠ¸",
    "amount": "10000",
    "paymentMethodSeq": 1
  }'
```

---

## ğŸ”š ê²°ì œ ë‚´ì—­ íŒŒíŠ¸ ìš”ì•½

| í•­ëª©       | ë‚´ìš©          |
| -------- | ----------- |
| API ëª©ì    | ê²°ì œ ì´ë²¤íŠ¸ ê¸°ë¡   |
| ì¸ì¦       | âŒ ì—†ìŒ        |
| FE ì§ì ‘ ì‚¬ìš© | âŒ           |
| ì‚¬ìš© ì£¼ì²´    | ì„œë²„ / ì´ë²¤íŠ¸ ìˆ˜ì§‘ |
| FE ì—°ë™    | ì¡°íšŒ APIë§Œ ì‚¬ìš©  |

---
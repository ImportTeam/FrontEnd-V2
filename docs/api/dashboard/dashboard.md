# ğŸ“Š ëŒ€ì‹œë³´ë“œ API (Dashboard)

ì ˆì•½ ê¸ˆì•¡, Top ê°€ë§¹ì /ê²°ì œìˆ˜ë‹¨, AI ìš”ì•½ ë“±
**ì‚¬ìš©ìì˜ ì†Œë¹„Â·í˜œíƒ í˜„í™©ì„ í•œ ëˆˆì— ë³´ì—¬ì£¼ëŠ” ìš”ì•½ í†µê³„ API**ì…ë‹ˆë‹¤.

> ğŸ” **ì¸ì¦ í•„ìš”**
> ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ëŠ” `Authorization: Bearer <JWT>` í•„ìš”

---

## 1ï¸âƒ£ ì´ë²ˆ ë‹¬ ì ˆì•½ ê¸ˆì•¡

### GET `/api/dashboard/metrics/savings`

ì´ë²ˆ ë‹¬ ì ˆì•½ ê¸ˆì•¡ê³¼ **ì „ë…„ ë™ì›” ëŒ€ë¹„ ì¦ê° ì •ë³´**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ğŸ“¥ Parameters

* ì—†ìŒ

---

### âœ… 200 OK â€“ ì¡°íšŒ ì„±ê³µ

```json
{
  "data": {
    "savingsAmount": 12345,
    "savingsAmountKrw": "12,345ì›",
    "lastYearSameMonthSavingsAmount": 9000,
    "savingsDeltaAmount": 3345,
    "savingsDeltaDirection": "ì¦ê°€",
    "compareMessage": "ì‘ë…„ ê°™ì€ ë‹¬ë³´ë‹¤ 3,345ì› ë” ì ˆì•½í–ˆì–´ìš”.",
    "savingsRatePercent": 12.34
  }
}
```

---

### âŒ 401 Unauthorized â€“ ì¸ì¦ ì‹¤íŒ¨

```json
{
  "statusCode": 401,
  "message": "ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤",
  "errorType": "UnauthorizedException",
  "error": {
    "code": "UNAUTHORIZED",
    "message": "ìœ íš¨í•˜ì§€ ì•Šì€ í† í°ì…ë‹ˆë‹¤",
    "details": null
  }
}
```

---

## 2ï¸âƒ£ ê°€ì¥ ë§ì´ ì“´ ì‡¼í•‘ëª° (Top 1)

### GET `/api/dashboard/metrics/top-merchant`

ìµœê·¼ **ì´ë²ˆ ë‹¬ ìš°ì„ **, ì—†ì„ ê²½ìš° **ìµœê·¼ 6ê°œì›” ê¸°ì¤€**ìœ¼ë¡œ
ì§€ì¶œ í•©ê³„ê°€ ê°€ì¥ ë†’ì€ ì‡¼í•‘ëª° 1ê³³ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ğŸ“¥ Parameters

* ì—†ìŒ

---

### âœ… 200 OK â€“ ì¡°íšŒ ì„±ê³µ

```json
{
  "data": {
    "range": "THIS_MONTH",
    "merchantName": "GSí¸ì˜ì ",
    "totalSpent": 500000,
    "totalSpentKrw": "500,000ì›"
  }
}
```

---

### âŒ 401 Unauthorized â€“ ì¸ì¦ ì‹¤íŒ¨

*(ê³µí†µ í¬ë§·, ìƒë‹¨ ì°¸ì¡°)*

---

## 3ï¸âƒ£ ê°€ì¥ ë§ì´ ì“´ ì‡¼í•‘ëª° (Alias)

### GET `/api/dashboard/metrics/topmerchant`

> âš ï¸ **í˜¸í™˜ì„± ìœ ì§€ìš© alias ì—”ë“œí¬ì¸íŠ¸**
> `/top-merchant` ì™€ **ì™„ì „íˆ ë™ì¼í•œ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ**

---

### âœ… 200 OK â€“ ì¡°íšŒ ì„±ê³µ

```json
{
  "data": {
    "range": "THIS_MONTH",
    "merchantName": "GSí¸ì˜ì ",
    "totalSpent": 500000,
    "totalSpentKrw": "500,000ì›"
  }
}
```

---

## 4ï¸âƒ£ ìµœë‹¤ ì‚¬ìš© ê²°ì œìˆ˜ë‹¨ (Top 1)

### GET `/api/dashboard/metrics/top-paymethod`

ì´ë²ˆ ë‹¬ ê¸°ì¤€ **ê°€ì¥ ë§ì´ ì‚¬ìš©ëœ ê²°ì œìˆ˜ë‹¨ 1ê°œ**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
(ë°ì´í„° ì—†ì„ ê²½ìš° ìµœê·¼ 6ê°œì›” ê¸°ì¤€ìœ¼ë¡œ ë³´ì •)

---

### ğŸ“¥ Parameters

* ì—†ìŒ

---

### âœ… 200 OK â€“ ì¡°íšŒ ì„±ê³µ

```json
{
  "data": {
    "paymentMethodId": 1,
    "paymentMethodName": "ë‚´ ì‹ ìš©ì¹´ë“œ(1111)",
    "thisMonthTotalAmount": 250000,
    "thisMonthTotalAmountKrw": "250,000ì›",
    "basis": "AMOUNT"
  }
}
```

---

## 5ï¸âƒ£ AI ì¶”ì²œ í˜œíƒ ìš”ì•½

### GET `/api/dashboard/metrics/ai-benefits`

ìµœê·¼ 6ê°œì›” ì†Œë¹„ + ë“±ë¡ ê²°ì œìˆ˜ë‹¨ + í˜œíƒ ë°ì´í„°ë¥¼ ì¢…í•©í•´
**AIê°€ ì¶”ì²œ ìš”ì•½ ë¬¸êµ¬ì™€ ì‚¬ìœ **ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

---

### ğŸ“¥ Parameters

* ì—†ìŒ

---

### âœ… 200 OK â€“ ì¡°íšŒ ì„±ê³µ

```json
{
  "data": {
    "recommendation": "ì´ë²ˆ ë‹¬ì—ëŠ” ìƒí™œ/ì‡¼í•‘ ì˜ì—­ì˜ í˜œíƒì´ í° ì¹´ë“œ/í˜ì´ë¥¼ ìš°ì„  ì‚¬ìš©í•´ë³´ì„¸ìš”.",
    "reasonSummary": "ìµœê·¼ 6ê°œì›” ê¸°ì¤€ 'ì‡¼í•‘' ì§€ì¶œ ë¹„ì¤‘ì´ ë†’ì•„ í•´ë‹¹ ì˜ì—­ í˜œíƒ ì¤‘ì‹¬ìœ¼ë¡œ ì¶”ì²œí•©ë‹ˆë‹¤."
  }
}
```

---

## 6ï¸âƒ£ ì›”ê°„ ì ˆì•½ ë³€í™” ì¶”ì´ (ìµœê·¼ 6ê°œì›”)

### GET `/api/dashboard/charts/monthly-savings`

ìµœê·¼ 6ê°œì›”ì˜ **ì›”ë³„ ì§€ì¶œ / í˜œíƒ / ì ˆì•½ ê¸ˆì•¡ ì¶”ì´**ì™€
AI ìš”ì•½ ë‚´ëŸ¬í‹°ë¸Œë¥¼ í•¨ê»˜ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ğŸ“¥ Parameters

* ì—†ìŒ

---

### âœ… 200 OK â€“ ì¡°íšŒ ì„±ê³µ

```json
{
  "data": [
    {
      "month": "2025-07",
      "name": "2025-07",
      "totalSpent": 1200000,
      "spent": 1200000,
      "totalBenefit": 45000,
      "benefit": 45000,
      "savingsAmount": 45000,
      "saved": 45000,
      "value": 45000
    }
  ],
  "ai": {
    "summary": "ìµœê·¼ 6ê°œì›” ë™ì•ˆ ì ˆì•½ì•¡ì€ ì „ë°˜ì ìœ¼ë¡œ ì™„ë§Œí•œ ìƒìŠ¹ì„¸ì´ë©°, 11ì›”ì— ê°€ì¥ í¬ê²Œ ì¦ê°€í–ˆìŠµë‹ˆë‹¤.",
    "highlights": [
      "10ì›” ëŒ€ë¹„ 11ì›” ì ˆì•½ì•¡ì´ í¬ê²Œ ì¦ê°€",
      "9ì›” ì§€ì¶œ ê¸‰ì¦ ì´í›„ ì ˆì•½ì•¡ì´ íšŒë³µ"
    ]
  }
}
```

---

## 7ï¸âƒ£ AI ì¶”ì²œ ê²°ì œìˆ˜ë‹¨ Top 3

### GET `/api/dashboard/metrics/ai-top3`

í˜œíƒ í¬ë¡¤ë§ ë°ì´í„° + ì†Œë¹„ íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ
**AIê°€ ì¶”ì²œí•˜ëŠ” ê²°ì œìˆ˜ë‹¨ Top3**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ğŸ“¥ Parameters

* ì—†ìŒ

---

### âœ… 200 OK â€“ ì¡°íšŒ ì„±ê³µ

```json
{
  "data": [
    {
      "paymentMethodId": 1,
      "paymentMethodName": "ë‚´ ì‹ ìš©ì¹´ë“œ(1111)",
      "name": "ë‚´ ì‹ ìš©ì¹´ë“œ(1111)",
      "score": 92,
      "value": 92,
      "reasonSummary": "ìµœê·¼ 6ê°œì›” ì‡¼í•‘ ì§€ì¶œì´ ë†’ê³ , í•´ë‹¹ ì¹´ë“œì‚¬ì˜ í™œì„± í˜œíƒì´ ë§ì•„ ìš°ì„  ì¶”ì²œí•©ë‹ˆë‹¤."
    }
  ]
}
```

---

## 8ï¸âƒ£ ìµœê·¼ ì‚¬ì´íŠ¸ë³„ ê²°ì œ ë‚´ì—­

### GET `/api/dashboard/transactions/recent-site`

ìµœê·¼ ê²°ì œ ë‚´ì—­ì„ **ì‚¬ì´íŠ¸ë³„ë¡œ í˜ì´ì§€ ë‹¨ìœ„**ë¡œ ì¡°íšŒí•©ë‹ˆë‹¤.

---

### ğŸ“¥ Query Parameters

| Name | Type   | Required | Description     |
| ---- | ------ | -------- | --------------- |
| page | number | âŒ        | í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘) |
| size | number | âŒ        | í˜ì´ì§€ í¬ê¸° (ìµœëŒ€ 50)  |

---

### âœ… 200 OK â€“ ì¡°íšŒ ì„±ê³µ

```json
{
  "data": [
    {
      "merchantName": "ì¿ íŒ¡",
      "paidAt": "2025-12-10T11:22:33.000Z",
      "paymentMethodName": "ë‚´ ì‹ ìš©ì¹´ë“œ(1111)",
      "paidAmount": 32000,
      "discountOrRewardAmount": 1500
    }
  ],
  "pagination": {
    "page": 1,
    "size": 10,
    "totalCount": 57,
    "hasNext": true
  }
}
```
